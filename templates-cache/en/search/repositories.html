{% load cache private_tags%}<!DOCTYPE html> <html lang="en"> <head><meta charset="utf-8"/><title>Search for {%if query%}"{{query}}" in {%endif%}repositories on Repos.io</title><meta name="description" content="Organize your owned/watched repositories from github (and soon bitbucked, google code) : https://github.com/twidi/Repos.io/"/><meta name="author" content="Stephane Angel / Twidi"/><link rel="stylesheet" href="/static/css/bootstrap.min.css?1.4"/><link rel="stylesheet" href="/static/css/project.css"/><script type="text/javascript" src="/static/js/jquery-1.5.2.min.js"></script>  <script type="text/javascript" src="/static/js/bootstrap/bootstrap-buttons.js?1.4"></script> <script type="text/javascript" src="/static/js/bootstrap/bootstrap-alerts.js?1.4"></script> <script type="text/javascript" src="/static/js/bootstrap/bootstrap-dropdown.js?1.4"></script>   <script type="text/javascript" src="/static/js/bootstrap/bootstrap-twipsy.js?1.4"></script> <script type="text/javascript" src="/static/js/bootstrap/bootstrap-popover.js?1.4"></script> <script type="text/javascript" src="/static/js/project.js"></script>  </head> <body id="{%if section%}{{section}}{%if subsection%}-{{subsection}}{%endif%}{%else%}body{%endif%}"> <div class="topbar"> <div class="topbar-inner"> <div class="container-fluid"> <h3><a href="/">Repos.io</a></h3> <ul class="nav"> <li{%if section == 'home'%} class="active"{%endif%}><a href="/">Home</a></li> <li><a href="http://github.com/twidi/Repos.io/">About</a></li> </ul> <form method="get" action="/search/"> <input type="text" name="q" value="{{query}}"/> <button class="btn" type="submit">Search</button> </form> <ul class="nav secondary-nav"> {%if user.is_authenticated%} <li><a href="/dashboard/">{{user.username}} : <strong class="btn primary">your dashboard</strong></a></li> {%with accounts=user_accounts %} {%if accounts%} <li class='dropdown{%if section == 'accounts'%} active{%endif%}' data-dropdown="dropdown"> <a href="/accounts/manage/" class="dropdown-toggle">Your accounts</a> <ul class="dropdown-menu"> {%for an_account in accounts %} <li{%if section == 'user' and account.id == an_account.id%} class="active"{%endif%}> {%with with_avatar=1 avatar_size=16 account=an_account %}<a href="{{account.get_absolute_url}}" title="{%if account.name%}{{account.name}}{%else%}{{account.slug}}{%endif%}{%if not account.last_fetch%} (not fetched){%endif%}">{%if with_avatar%}<img alt="{{account.slug}}'s avatar" width="{{avatar_size|default:32}}" height="{{avatar_size|default:32}}" src="{%if account.avatar%}{{account.avatar}}{%else%}/static/img/avatar_default_{{account.backend}}.png{%endif%}"/> {%endif%}{{account.slug}}{%if not no_backend%}<small> @ {{account.backend}}</small>{%endif%}</a> {%endwith %} </li> {%endfor %} <li class="divider"></li> <li{%if section == 'accounts'%} class="active"{%endif%}><a href="/accounts/manage/">Manage</a></li> </ul> </li> {%else%} <li><a href="/accounts/manage/" class="dropdown-toggle">Your accounts</a></li> {%endif%} {%endwith %} <li><a href="/accounts/logout/?next={{request.get_full_path}}">Logout</a></li> {%else%} <li><a href="/accounts/login/?next=/">Login / Register</a></li> {%endif%} </ul> </div> </div> </div> <div id="container" class="container"> {%if messages%} <ul id="messages" class="unstyled"> {%for message in messages %} <li data-alert="1" class="alert-message fade in {%if message.tags%}{{message.tags}}{%else%}info{%endif%}"><a href='#' class='close'>&times;</a><p>{{message}}</p></li> {%endfor %} </ul> {%endif%} <div id="content"{%if messages%} class="with_messages"{%endif%}>  {%url search as url_search %} {%url search_accounts as url_search_accounts %} <header class='main_header'> <h1>Search</h1> <form method="get" action="." class="search_big"> <input class="xlarge" type="text" name="q" value="{{query}}"/> <input class="btn primary" type="submit" value="Search"/> </form>  {%if query%} <p> Suggestions : {%for search in most_popular|slice:":5" %} <a href="{{url_search}}?q={{search.user_query}}">{{search.user_query}}</a> {%if not forloop.last%} / {%endif%} {%endfor %} <span> - <a href="{{url_search}}">En voir plus</a></span> </p> {%endif%}  </header> <ul class="pills"> <li{%if subsection == 'repositories'%} class="active"{%endif%}><a href="{{url_search}}?q={{query}}">Search for repositories</a></li> <li{%if subsection == 'accounts'%} class="active"{%endif%}><a href="{{url_search_accounts}}?q={{query}}">Search for accounts</a></li> </ul>  {%if query%} {%if page.paginator.count%} {%prepare_private page.object_list %} <h2>{{page.paginator.count}} results for <em>{{query}}</em></h2> <div id="search-options"> {%if show_forks%} <a href=".?q={{query}}{%if sort.key%}&amp;sort_by={%if sort.reverse%}-{%endif%}{{sort.key}}{%endif%}" class="btn error active">Hide forks</a> {%else%} <a href=".?q={{query}}{%if sort.key%}&amp;sort_by={%if sort.reverse%}-{%endif%}{{sort.key}}{%endif%}&amp;show-forks=y" class="btn success">Show forks</a> {%endif%} </div> <table class='zebra-striped condensed-table repositories with_extras'> <thead> <tr> {%with param1_key="q" param1_value=query param2_key="show-forks" param2_value=show_forks %} {%with color="orange" key="name" name="Name" %}<th class="{%if color%}{{color}} {%endif%}sortable header{%if sort.key == key%} headerSort{%if sort.reverse%}Down{%else%}Up{%endif%}{%else%}{%if default_reverse%} reverse{%endif%}{%endif%}"> <a href="./?sort_by={%if sort.key == key and not sort.reverse or sort.key != key and default_reverse%}-{%endif%}{{key}}{%if param1_key and param1_value%}&amp;{{param1_key}}={{param1_value}}{%endif%}{%if param2_key and param2_value%}&amp;{{param2_key}}={{param2_value}}{%endif%}{%if param3_key and param3_value%}&amp;{{param3_key}}={{param3_value}}{%endif%}{%if param4_key and param4_value%}&amp;{{param4_key}}={{param4_value}}{%endif%}">{{name}}</a> </th> {%endwith %}  {%with color="blue" key="owner" name="Owner" %}<th class="{%if color%}{{color}} {%endif%}sortable header{%if sort.key == key%} headerSort{%if sort.reverse%}Down{%else%}Up{%endif%}{%else%}{%if default_reverse%} reverse{%endif%}{%endif%}"> <a href="./?sort_by={%if sort.key == key and not sort.reverse or sort.key != key and default_reverse%}-{%endif%}{{key}}{%if param1_key and param1_value%}&amp;{{param1_key}}={{param1_value}}{%endif%}{%if param2_key and param2_value%}&amp;{{param2_key}}={{param2_value}}{%endif%}{%if param3_key and param3_value%}&amp;{{param3_key}}={{param3_value}}{%endif%}{%if param4_key and param4_value%}&amp;{{param4_key}}={{param4_value}}{%endif%}">{{name}}</a> </th> {%endwith %}  {%with color="green" key="updated" name="Updated" default_reverse=1 %}<th class="{%if color%}{{color}} {%endif%}sortable header{%if sort.key == key%} headerSort{%if sort.reverse%}Down{%else%}Up{%endif%}{%else%}{%if default_reverse%} reverse{%endif%}{%endif%}"> <a href="./?sort_by={%if sort.key == key and not sort.reverse or sort.key != key and default_reverse%}-{%endif%}{{key}}{%if param1_key and param1_value%}&amp;{{param1_key}}={{param1_value}}{%endif%}{%if param2_key and param2_value%}&amp;{{param2_key}}={{param2_value}}{%endif%}{%if param3_key and param3_value%}&amp;{{param3_key}}={{param3_value}}{%endif%}{%if param4_key and param4_value%}&amp;{{param4_key}}={{param4_value}}{%endif%}">{{name}}</a> </th> {%endwith %}  {%endwith %} {%if user.id%}<th class="purple" title="Your relations and your own tags and notes">... &amp; you</th>{%endif%}  </tr> </thead> <tbody> {%for repository in page.object_list %} <tr> <td> {{repository.renderer_main|safe}} {%with score=repository.internal_score max_score=200 ratio=2 %}{%with obj=repository %}{%with obj_score=score|default:obj.score %} {%if obj_score and obj_score >= min_score|default:10%} <div class="score" style="width:{%if obj_score > max_score|default:100%}{%widthratio max_score|default:100 1 ratio|default:1 %}{%else%}{%widthratio obj_score 1 ratio|default:1 %}{%endif%}px;{%if height%}height:{{height}}px;{%endif%}" title="Score: {{obj_score}}"></div> {%endif%} {%endwith %} {%endwith %} {%endwith %} {{repository.renderer_description|safe}} </td> <td> {{repository.renderer_owner|safe}} </td> <td> {{repository.renderer_updated|safe}} </td>  {%cache cache_timeout.repository_extra repository_extra repository.pk user.id %} {%if user.id%} <td class="{%if repository.current_user_has_extra%}full{%else%}empty{%endif%}"> <div><a href="?{%if request.META.QUERY_STRING%}{{request.META.QUERY_STRING}}&amp;{%endif%}edit_extra={{repository.id}}&amp;next={{current_request|urlencode}}#extra_editor" title="{%if repository.current_user_has_extra%}Edit your private tags and private note{%else%}Add some private tags or a private note{%endif%}" class="btn">{%if repository.current_user_has_extra%}edit{%else%}+{%endif%}</a></div> {%if repository.current_user_has_extra%} <div class="extra{%if repository.current_user_has_note%} with_note {%endif%}{%if repository.current_user_has_tags%} with_tags{%endif%}{%if repository.current_user_follows or repository.current_user_owns or repository.current_user_has_fork%} with_special_tags{%endif%}"> {%with obj=repository %}{%if obj.current_user_has_note or obj.current_user_has_tags%} <div class="rel_popover_left" data-popover-title="Your private informations" title="You have private informations !"> <a href="{{obj.get_absolute_url}}"><img src="/static/img/sticky_note.png" alt="Private note"/></a> <div><div class="extra_container{%if obj.current_user_has_note%} with_note {%endif%}{%if obj.current_user_has_tags%} with_tags{%endif%}"> {%if obj.current_user_has_tags%} {%with tags=obj.current_user_tags %}{%if tags%} {%url dashboard_tags obj_type=obj_type as tag_link %} <ul class="tags unstyled"> {%for tag in tags %} <li><a href="{{tag_link}}?tag={{tag.slug}}" class="label success">{{tag.name}}</a></li> {%endfor %} </ul> {%endif%} {%endwith %} {%endif%} {%if obj.current_user_has_note%} <blockquote>{{obj.current_user_rendered_note|safe}}</blockquote> <hr/> <em>Last updated: {{obj.current_user_note_modified}}</em> {%endif%} </div></div> </div> {%endif%} {%endwith %} {%if repository.current_user_follows or repository.current_user_owns or repository.current_user_has_fork%} <ul class="special-tags unstyled"> {%if repository.current_user_owns%}<li class="label success" title="{{repository.project}} is your project">yours</li>{%endif%} {%if repository.current_user_follows%}<li class="label notice" title="You follow {{repository.project}}">following</li>{%endif%} {%if repository.current_user_has_fork%}<li class="label warning" title="You have a fork of {{repository.project}}">forked</li>{%endif%} </ul> {%endif%} </div> {%endif%} </td> {%endif%} {%endcache %}  </tr> {%endfor %} </tbody> </table> {%else%} <h2 class="no-results">No results found for <em>{{query}}</em></h2> {%endif%} {%if page.has_previous or page.has_next%} <div>{{page.render}}</div> {%endif%} {%else%} <div class="row"> <section class="span-one-third"> <h3>Most popular</h3> <ul class="unstyled"> {%for search in most_popular %} <li> <a href="{{url_search}}?q={{search.user_query}}">{{search.user_query}}</a> <small>/ {%if forloop.first%}searched {{search.times_seen}} times{%else%}{{search.times_seen}}{%endif%} </small> </li> {%endfor %} </ul> </section> <section class="span-one-third"> <h3>Most recent</h3> <ul class="unstyled"> {%for search in most_recent %} <li> <a href="{{url_search}}?q={{search.user_query}}">{{search.user_query}}</a> <small>/ {%if forloop.first%}searched {{search.times_seen}} times{%else%}{{search.times_seen}}{%endif%} </small> </li> {%endfor %} </ul> </section> <section class="span-one-third"> {%if user.is_authenticated%} <h3>Your most recent</h3> <ul class="unstyled"> {%for search in user_most_recent %} <li> <a href="{{url_search}}?q={{search.user_query}}">{{search.user_query}}</a> <small>/ {%if forloop.first%}searched {{search.times_seen}} times{%else%}{{search.times_seen}}{%endif%} </small> </li> {%endfor %} </ul> {%endif%} </section> </div> {%endif%}   </div> </div></body></html> 