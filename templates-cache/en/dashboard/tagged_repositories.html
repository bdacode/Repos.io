{% load cache%}<table class='zebra-striped condensed-table repositories with_extras'> <thead> <tr> {%with param1_key="tag" param1_value=tag_filter %} {%with color="orange" key="name" name="Name" %}<th class="{%if color%}{{color}} {%endif%}sortable header{%if sort.key == key%} headerSort{%if sort.reverse%}Down{%else%}Up{%endif%}{%else%}{%if default_reverse%} reverse{%endif%}{%endif%}"> <a href="./?sort_by={%if sort.key == key and not sort.reverse or sort.key != key and default_reverse%}-{%endif%}{{key}}{%if param1_key and param1_value%}&amp;{{param1_key}}={{param1_value}}{%endif%}{%if param2_key and param2_value%}&amp;{{param2_key}}={{param2_value}}{%endif%}{%if param3_key and param3_value%}&amp;{{param3_key}}={{param3_value}}{%endif%}{%if param4_key and param4_value%}&amp;{{param4_key}}={{param4_value}}{%endif%}">{{name}}</a> </th> {%endwith %}  {%with color="blue" key="owner" name="Owner" %}<th class="{%if color%}{{color}} {%endif%}sortable header{%if sort.key == key%} headerSort{%if sort.reverse%}Down{%else%}Up{%endif%}{%else%}{%if default_reverse%} reverse{%endif%}{%endif%}"> <a href="./?sort_by={%if sort.key == key and not sort.reverse or sort.key != key and default_reverse%}-{%endif%}{{key}}{%if param1_key and param1_value%}&amp;{{param1_key}}={{param1_value}}{%endif%}{%if param2_key and param2_value%}&amp;{{param2_key}}={{param2_value}}{%endif%}{%if param3_key and param3_value%}&amp;{{param3_key}}={{param3_value}}{%endif%}{%if param4_key and param4_value%}&amp;{{param4_key}}={{param4_value}}{%endif%}">{{name}}</a> </th> {%endwith %}  {%with color="green" key="updated" name="Updated" default_reverse=1 %}<th class="{%if color%}{{color}} {%endif%}sortable header{%if sort.key == key%} headerSort{%if sort.reverse%}Down{%else%}Up{%endif%}{%else%}{%if default_reverse%} reverse{%endif%}{%endif%}"> <a href="./?sort_by={%if sort.key == key and not sort.reverse or sort.key != key and default_reverse%}-{%endif%}{{key}}{%if param1_key and param1_value%}&amp;{{param1_key}}={{param1_value}}{%endif%}{%if param2_key and param2_value%}&amp;{{param2_key}}={{param2_value}}{%endif%}{%if param3_key and param3_value%}&amp;{{param3_key}}={{param3_value}}{%endif%}{%if param4_key and param4_value%}&amp;{{param4_key}}={{param4_value}}{%endif%}">{{name}}</a> </th> {%endwith %}  {%endwith %} <th>Your tags</th> {%if user.id%}<th class="purple" title="Your relations and your own tags and notes">... &amp; you</th>{%endif%}  </tr> </thead> <tbody> {%for repository in page.object_list %} <tr> <td>  {%cache cache_timeout.repository_main_cell repository_main_cell_part1 repository.pk repository.modified %} <a href="{{repository.get_absolute_url}}"><img alt="{{account.slug}}'s logo" width="{{size|default:32}}" height="{{size|default:32}}" src="{%if repository.logo%}{{repository.logo}}{%else%}/static/img/avatar_default_{{repository.backend}}.png{%endif%}"/></a>  <strong>{%with no_owner=1 %}<a href="{{repository.get_absolute_url}}">{%if no_owner%}{{repository.slug}}{%else%}{{repository.project}}{%endif%}{%if not no_backend%}<small> @ {{repository.backend}}</small>{%endif%}</a> {%endwith %} </strong> {%if repository.is_fork%} <small> <span class="label warning">Fork</span> {%if repository.parent_fork%} of {%with repository=repository.parent_fork %}{%with no_backend=1 %}<a href="{{repository.get_absolute_url}}">{%if no_owner%}{{repository.slug}}{%else%}{{repository.project}}{%endif%}{%if not no_backend%}<small> @ {{repository.backend}}</small>{%endif%}</a> {%endwith %} {%endwith %} by {%with account=repository.parent_fork.owner %}{%with no_backend=1 %}<a href="{{account.get_absolute_url}}" title="{%if account.name%}{{account.name}}{%else%}{{account.slug}}{%endif%}{%if not account.last_fetch%} (not fetched){%endif%}">{%if with_avatar%}<img alt="{{account.slug}}'s avatar" width="{{avatar_size|default:32}}" height="{{avatar_size|default:32}}" src="{%if account.avatar%}{{account.avatar}}{%else%}/static/img/avatar_default_{{account.backend}}.png{%endif%}"/> {%endif%}{{account.slug}}{%if not no_backend%}<small> @ {{account.backend}}</small>{%endif%}</a> {%endwith %} {%endwith %} {%endif%} </small> {%endif%} {%endcache %} {%if repository.distinct_others%} <small title="{{repository.distinct_others|join:', '}}"><em>(and {{repository.distinct_others|length}} more)</em></small> {%endif%} {%cache cache_timeout.repository_main_cell repository_main_cell_part2 repository.pk repository.modified %} {%with max_width=200 ratio=2 %}{%with obj=repository %}{%with obj_score=score|default:obj.score %} {%if obj_score and obj_score >= min_score|default:10%} <div class="score" style="width:{%if obj_score > max_score|default:100%}{%widthratio max_score|default:100 1 ratio|default:1 %}{%else%}{%widthratio obj_score 1 ratio|default:1 %}{%endif%}px;{%if height%}height:{{height}}px;{%endif%}" title="Score: {{obj_score}}"></div> {%endif%} {%endwith %} {%endwith %} {%endwith %} {%if repository.description%}<blockquote>{{repository.description}}</blockquote>{%endif%} {%endcache %}  </td> <td> {%cache cache_timeout.repository_owner_cell repository_owner_cell repository.owner.pk repository.owner.modified %} {%with account=repository.owner %} {%with size=16 %}<a href="{{account.get_absolute_url}}" title="{%if account.last_fetch%}{{account.name|default:account.slug}}{%else%}{{account.slug}} (not fetched){%endif%}"><img alt="{{account.slug}}'s avatar" width="{{size|default:32}}" height="{{size|default:32}}" src="{%if account.avatar%}{{account.avatar}}{%else%}/static/img/avatar_default_{{account.backend}}.png{%endif%}"/></a> {%endwith %}  {%with no_backend=1 %}<a href="{{account.get_absolute_url}}" title="{%if account.name%}{{account.name}}{%else%}{{account.slug}}{%endif%}{%if not account.last_fetch%} (not fetched){%endif%}">{%if with_avatar%}<img alt="{{account.slug}}'s avatar" width="{{avatar_size|default:32}}" height="{{avatar_size|default:32}}" src="{%if account.avatar%}{{account.avatar}}{%else%}/static/img/avatar_default_{{account.backend}}.png{%endif%}"/> {%endif%}{{account.slug}}{%if not no_backend%}<small> @ {{account.backend}}</small>{%endif%}</a> {%endwith %}  {%endwith %} {%endcache %} {%if repository.distinct_others%}<br/><small><em>(and {{repository.distinct_others|length}} more)</em></small> {%endif%}  </td> <td> {%if repository.official_modified%}{{repository.official_modified|date}}{%else%}-{%endif%}  </td> <td> {%with obj_type="repositories" tags=repository.current_user_tags %}{%if tags%} {%url dashboard_tags obj_type=obj_type as tag_link %} <ul class="tags unstyled"> {%for tag in tags %} <li><a href="{{tag_link}}?tag={{tag.slug}}" class="label success">{{tag.name}}</a></li> {%endfor %} </ul> {%endif%} {%endwith %} </td> {%if user.id%} <td class="{%if repository.current_user_has_extra%}full{%else%}empty{%endif%}"> <div><a href="{%with object=repository%}?{%if request.META.QUERY_STRING%}{{request.META.QUERY_STRING}}&amp;{%endif%}edit_extra={{object.simple_str}}&amp;when_finished={{current_request|urlencode}}#extra-editor
{%endwith%}" title="{%if repository.current_user_has_extra%}Edit your private tags and private note{%else%}Add some private tags or a private note{%endif%}" class="btn">{%if repository.current_user_has_extra%}edit{%else%}+{%endif%}</a></div> {%if repository.current_user_has_extra%} <div class="extra{%if repository.current_user_has_note%} with_note {%endif%}{%if repository.current_user_has_tags%} with_tags{%endif%}{%if repository.current_user_follows or repository.current_user_owns or repository.current_user_has_fork%} with_special_tags{%endif%}"> {%with obj=repository %}{%if obj.current_user_has_note or obj.current_user_has_tags%} <div class="rel_popover_left" data-popover-title="Your private informations" title="You have private informations !"> <a href="{{obj.get_absolute_url}}"><img src="/static/img/sticky_note.png" alt="Private note"/></a> <div><div class="extra_container{%if obj.current_user_has_note%} with_note {%endif%}{%if obj.current_user_has_tags%} with_tags{%endif%}"> {%if obj.current_user_has_tags%} {%with tags=obj.current_user_tags %}{%if tags%} {%url dashboard_tags obj_type=obj_type as tag_link %} <ul class="tags unstyled"> {%for tag in tags %} <li><a href="{{tag_link}}?tag={{tag.slug}}" class="label success">{{tag.name}}</a></li> {%endfor %} </ul> {%endif%} {%endwith %} {%endif%} {%if obj.current_user_has_note%} <blockquote>{{obj.current_user_rendered_note|safe}}</blockquote> <hr/> <em>Last updated: {{obj.current_user_note_modified}}</em> {%endif%} </div></div> </div> {%endif%} {%endwith %} {%if not minimal%} {%if repository.current_user_follows or repository.current_user_owns or repository.current_user_has_fork%} <ul class="special-tags unstyled"> {%if repository.current_user_owns%}<li class="label success" title="{{repository.project}} is your project">yours</li>{%endif%} {%if repository.current_user_follows%}<li class="label notice" title="You follow {{repository.project}}">following</li>{%endif%} {%if repository.current_user_has_fork%}<li class="label warning" title="You have a fork of {{repository.project}}">forked</li>{%endif%} </ul> {%endif%} {%endif%} </div> {%endif%} </td> {%endif%}  </tr> {%endfor %} </tbody> </table> 