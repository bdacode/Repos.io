{% load cache private_tags%} <!DOCTYPE html> <html lang="en"> <head><meta charset="utf-8"/><title>Your dashboard on Repos.io</title><meta name="description" content="Organize your owned/watched repositories from github (and soon bitbucked, google code) : https://github.com/twidi/Repos.io/"/><meta name="author" content="Stephane Angel / Twidi"/><link rel="stylesheet" href="/static/css/bootstrap.min.css?1.4"/><link rel="stylesheet" href="/static/css/project.css"/><script type="text/javascript" src="/static/js/jquery-1.5.2.min.js"></script> <script type="text/javascript" src="/static/js/jquery.color.js"></script>  <script type="text/javascript" src="/static/js/bootstrap/bootstrap-buttons.js?1.4"></script> <script type="text/javascript" src="/static/js/bootstrap/bootstrap-alerts.js?1.4"></script> <script type="text/javascript" src="/static/js/bootstrap/bootstrap-dropdown.js?1.4"></script>   <script type="text/javascript" src="/static/js/bootstrap/bootstrap-twipsy.js?1.4"></script> <script type="text/javascript" src="/static/js/bootstrap/bootstrap-popover.js?1.4"></script> <script type="text/javascript" src="/static/js/project.js"></script>  </head> <body id="{%if section%}{{section}}{%if subsection%}-{{subsection}}{%endif%}{%else%}body{%endif%}"> <div class="topbar"> <div class="topbar-inner"> <div class="container-fluid"> <h3><a href="/">Repos.io</a></h3> <ul class="nav"> <li{%if section == 'home'%} class="active"{%endif%}><a href="/">Home</a></li> <li><a href="http://github.com/twidi/Repos.io/">About</a></li> </ul> <form method="get" action="/search/"> <input type="text" name="q" value="{{query}}"/> <button class="btn" type="submit">Search</button> </form> <ul class="nav secondary-nav"> {%if user.is_authenticated%} <li><a href="/dashboard/">{{user.username}} : <strong class="btn primary">your dashboard</strong></a></li> {%with accounts=user_accounts %} {%if accounts%} <li class='dropdown{%if section == 'accounts'%} active{%endif%}' data-dropdown="dropdown"> <a href="/accounts/manage/" class="dropdown-toggle">Your accounts</a> <ul class="dropdown-menu"> {%for an_account in accounts %} <li{%if section == 'user' and account.id == an_account.id%} class="active"{%endif%}> {%with with_avatar=1 avatar_size=16 account=an_account %} <a href="{{account.get_absolute_url}}" title="{%if account.name%}{{account.name}}{%else%}{{account.slug}}{%endif%}{%if not account.last_fetch%} (not fetched){%endif%}">{%if with_avatar%}<img alt="{{account.slug}}'s avatar" width="{{avatar_size|default:32}}" height="{{avatar_size|default:32}}" src="{%if account.avatar%}{{account.avatar}}{%else%}/static/img/avatar_default_{{account.backend}}.png{%endif%}"/> {%endif%}{{account.slug}}{%if not no_backend%}<small> @ {{account.backend}}</small>{%endif%}</a> {%endwith %} </li> {%endfor %} <li class="divider"></li> <li{%if section == 'accounts'%} class="active"{%endif%}><a href="/accounts/manage/">Manage</a></li> </ul> </li> {%else%} <li><a href="/accounts/manage/" class="dropdown-toggle">Your accounts</a></li> {%endif%} {%endwith %} <li><a href="/accounts/logout/?next={{request.get_full_path|urlencode}}">Logout</a></li> {%else%} <li><a href="/accounts/login/?next=/">Login / Register</a></li> {%endif%} </ul> </div> </div> </div> <div id="container" class="container">  {%if messages%} <ul class="unstyled messages"> {%for message in messages %} <li data-alert="1" class="alert-message fade in {%if message.tags%}{{message.tags}}{%else%}info{%endif%}"><a href='#' class='close'>&times;</a><p>{{message}}</p></li> {%endfor %} </ul> {%endif%}  <div id="content"{%if messages%} class="with_messages"{%endif%}> {%if request.GET.edit_extra%} {%edit_private request.GET.edit_extra %} {%endif%}  <header class="main_header"> <h1>Your dashboard <small>All your stuff on Repos.io, from you and for all your associated accounts</small></h1> <ul class="unstyled" id="dashboard-accounts"> <li>Your accounts :</li> {%for account in user_accounts %} <li>  {%cache cache_timeout.account_main_cell account_minimal_cell_small account.pk account.modified %}  {%with size=16 %} <a href="{{account.get_absolute_url}}" title="{%if account.last_fetch%}{{account.name|default:account.slug}}{%else%}{{account.slug}} (not fetched){%endif%}"><img alt="{{account.slug}}'s avatar" width="{{size|default:32}}" height="{{size|default:32}}" src="{%if account.avatar%}{{account.avatar}}{%else%}/static/img/avatar_default_{{account.backend}}.png{%endif%}"/></a> {%endwith %}   <a href="{{account.get_absolute_url}}" title="{%if account.name%}{{account.name}}{%else%}{{account.slug}}{%endif%}{%if not account.last_fetch%} (not fetched){%endif%}">{%if with_avatar%}<img alt="{{account.slug}}'s avatar" width="{{avatar_size|default:32}}" height="{{avatar_size|default:32}}" src="{%if account.avatar%}{{account.avatar}}{%else%}/static/img/avatar_default_{{account.backend}}.png{%endif%}"/> {%endif%}{{account.slug}}{%if not no_backend%}<small> @ {{account.backend}}</small>{%endif%}</a>  {%endcache %} </li> {%empty %} <li>You have no accounts !</li> {%endfor %} <li><a href="/accounts/manage/">Manage your accounts...</a></li> </ul> </header> <ul class="tabs"> <li{%if subsection == 'home'%} class="active"{%endif%}><a href="/dashboard/">Home</a></li> <li{%if subsection == 'tags'%} class="active"{%endif%}><a href="/dashboard/tags/">Your tags</a></li> <li{%if subsection == 'notes'%} class="active"{%endif%}><a href="/dashboard/notes/">Your notes</a></li> <li{%if subsection == 'following'%} class="active"{%endif%}><a href="/dashboard/following/">Your following</a></li> <li{%if subsection == 'followers'%} class="active"{%endif%}><a href="/dashboard/followers/">Your followers</a></li> <li{%if subsection == 'repositories'%} class="active"{%endif%}><a href="/dashboard/repositories/">Your repositories</a></li> <li{%if subsection == 'contributing'%} class="active"{%endif%}><a href="/dashboard/contributing/">Your contributed repositories</a></li> </ul>  <div class="row"> <section id="d-tags" class="span4"> <h2>Tags</h2> <p>All your tags</p> {%with tags as all_tags %} <h3>For repositories</h3> {%url dashboard_tags obj_type="repositories" as repositories_tags_url %} {%if all_tags.repository%} <ul class="tags unstyled"> {%for tag in all_tags.repository.special_used %} <li><a href="{{repositories_tags_url}}?tag={{tag.slug}}" class="label warning" title="{%for obj in tag.objects %}{{obj}}{%if not forloop.last%}, {%endif%}{%endfor %}">{{tag.name}}<small> ({{tag.objects|length}})</small></a></li> {%endfor %} {%if all_tags.repository.normal and all_tags.repository.special_used%}<br/>{%endif%} {%for tag in all_tags.repository.normal %} <li><a href="{{repositories_tags_url}}?tag={{tag.slug}}" class="label success" title="{%for obj in tag.objects %}{{obj}}{%if not forloop.last%}, {%endif%}{%endfor %}">{{tag.name}}<small> ({{tag.objects|length}})</small></a></li> {%endfor %} </ul> {%else%} <p><em>No tags !</em></p> {%endif%} <a href="{{repositories_tags_url}}">Manage your tags...</a> <h3>For people</h3> {%url dashboard_tags obj_type="accounts" as accounts_tags_url %} {%if all_tags.account%} <ul class="tags unstyled"> {%for tag in all_tags.account.special_used %} <li><a href="{{accounts_tags_url}}?tag={{tag.slug}}" class="label warning" title="{%for obj in tag.objects %}{{obj}}{%if not forloop.last%}, {%endif%}{%endfor %}">{{tag.name}}<small> ({{tag.objects|length}})</small></a></li> {%endfor %} {%if all_tags.account.normal and all_tags.account.special_used%}<br/>{%endif%} {%for tag in all_tags.account.normal %} <li><a href="{{accounts_tags_url}}?tag={{tag.slug}}" class="label success" title="{%for obj in tag.objects %}{{obj}}{%if not forloop.last%}, {%endif%}{%endfor %}">{{tag.name}}<small> ({{tag.objects|length}})</small></a></li> {%endfor %} </ul> {%else%} <p><em>No tags !</em></p> {%endif%} <a href="{{accounts_tags_url}}">Manage your tags...</a> {%endwith %} </section> <section id="d-notes" class="span4"> <h2>Notes</h2> <p>Your last notes</p> {%with notes as last_notes %} <h3>For repositories</h3> {%if last_notes.repository%} {%prepare_private last_notes.repository "-related,-notes" %} <table class="condensed-table with_extras" data-private-exclude="-related"> <tbody> {%for repository in last_notes.repository %} <tr> <td title="{{repository.description}}">  {%with size=16 %} <a href="{{repository.get_absolute_url}}"><img alt="{{account.slug}}'s logo" width="{{size|default:32}}" height="{{size|default:32}}" src="{%if repository.logo%}{{repository.logo}}{%else%}/static/img/avatar_default_{{repository.backend}}.png{%endif%}"/></a> {%endwith %}   <a href="{{repository.get_absolute_url}}">{%if no_owner%}{{repository.slug}}{%else%}{{repository.project}}{%endif%}{%if not no_backend%}<small> @ {{repository.backend}}</small>{%endif%}</a>  </td>  {%if user.id%} <td class="{%if repository.current_user_has_extra%}full{%else%}empty{%endif%}" data-object-key="{{repository.simple_str}}"> <div><a href="{%with object=repository%}
?{%if request.META.QUERY_STRING%}{{request.META.QUERY_STRING}}&amp;{%endif%}{%if 'edit_extra' in request.META.QUERY_STRING%}_={%now "u" %}{%else%}edit_extra={{object.simple_str}}&amp;when_finished={{current_request|urlencode}}{%endif%}#extra-editor
{%endwith%}" title="{%if repository.current_user_has_extra%}Edit your private tags and private note{%else%}Add some private tags or a private note{%endif%}" class="btn">{%if repository.current_user_has_extra%}edit{%else%}+{%endif%}</a></div> {%if repository.current_user_has_extra%} <div class="extra{%if repository.current_user_has_note%} with_note {%endif%}{%if repository.current_user_has_tags%} with_tags{%endif%}{%if repository.current_user_follows or repository.current_user_owns or repository.current_user_has_fork%} with_special_tags{%endif%}"> {%with obj=repository %} {%if obj.current_user_has_note or obj.current_user_has_tags%} <div class="rel_popover_extra" data-popover-title="Your private informations" title="You have private informations !"> <a href="{{obj.get_absolute_url}}"><img src="/static/img/sticky_note.png" alt="Private note"/></a> <div><div class="extra_container{%if obj.current_user_has_note%} with_note {%endif%}{%if obj.current_user_has_tags%} with_tags{%endif%}"> {%if obj.current_user_has_tags%} {%with tags=obj.current_user_tags with_flags=1 %} {%if tags%} {%url dashboard_tags obj_type=obj_type as tag_link %} <ul class="tags unstyled"> {%if with_flags%} {%for tag in tags.special_used %} <li><a href="{{tag_link}}?tag={{tag.slug}}" class="label warning">{{tag.name}}</a></li> {%endfor %} {%if tags.normal and tags.special_used%}<br/>{%endif%} {%for tag in tags.normal %} <li><a href="{{tag_link}}?tag={{tag.slug}}" class="label success">{{tag.name}}</a></li> {%endfor %} {%else%} {%for tag in tags %} <li><a href="{{tag_link}}?tag={{tag.slug}}" class="label success">{{tag.name}}</a></li> {%endfor %} {%endif%} </ul> {%endif%} {%endwith %} {%endif%} {%if obj.current_user_has_note%} <blockquote>{{obj.current_user_rendered_note|safe}}</blockquote> <hr/> <em>Last updated: {{obj.current_user_note_modified}}</em> {%endif%} </div></div> </div> {%endif%} {%endwith %} {%if not minimal%} {%if repository.current_user_follows or repository.current_user_owns or repository.current_user_has_fork%} <ul class="special-tags unstyled"> {%if repository.current_user_owns%}<li class="label success" title="{{repository.project}} is your project">yours</li>{%endif%} {%if repository.current_user_follows%}<li class="label notice" title="You follow {{repository.project}}">following</li>{%endif%} {%if repository.current_user_has_fork%}<li class="label warning" title="You have a fork of {{repository.project}}">forked</li>{%endif%} </ul> {%endif%} {%endif%} </div> {%endif%} </td> {%endif%}  </tr> {%endfor %} </tbody> </table> {%else%} <p><em>No notes !</em></p> {%endif%} <a href="/dashboard/notes/repositories/">Manage your notes...</a> <h3>For people</h3> {%if last_notes.account%} {%prepare_private last_notes.account "-related,-notes" %} <table class="condensed-table with_extras" data-private-exclude="-related"> <tbody> {%for account in last_notes.account %} <tr> <td>   {%cache cache_timeout.account_main_cell account_minimal_cell_small account.pk account.modified %}  {%with size=16 %} <a href="{{account.get_absolute_url}}" title="{%if account.last_fetch%}{{account.name|default:account.slug}}{%else%}{{account.slug}} (not fetched){%endif%}"><img alt="{{account.slug}}'s avatar" width="{{size|default:32}}" height="{{size|default:32}}" src="{%if account.avatar%}{{account.avatar}}{%else%}/static/img/avatar_default_{{account.backend}}.png{%endif%}"/></a> {%endwith %}   <a href="{{account.get_absolute_url}}" title="{%if account.name%}{{account.name}}{%else%}{{account.slug}}{%endif%}{%if not account.last_fetch%} (not fetched){%endif%}">{%if with_avatar%}<img alt="{{account.slug}}'s avatar" width="{{avatar_size|default:32}}" height="{{avatar_size|default:32}}" src="{%if account.avatar%}{{account.avatar}}{%else%}/static/img/avatar_default_{{account.backend}}.png{%endif%}"/> {%endif%}{{account.slug}}{%if not no_backend%}<small> @ {{account.backend}}</small>{%endif%}</a>  {%endcache %}  </td>  {%if user.id%} <td class="{%if account.current_user_has_extra%}full{%else%}empty{%endif%}" data-object-key="{{account.simple_str}}"> <div><a href="{%with object=account%}
?{%if request.META.QUERY_STRING%}{{request.META.QUERY_STRING}}&amp;{%endif%}{%if 'edit_extra' in request.META.QUERY_STRING%}_={%now "u" %}{%else%}edit_extra={{object.simple_str}}&amp;when_finished={{current_request|urlencode}}{%endif%}#extra-editor
{%endwith%}" title="{%if account.current_user_has_extra%}Edit your private tags and private note{%else%}Add some private tags or a private note{%endif%}" class="btn">{%if account.current_user_has_extra%}edit{%else%}+{%endif%}</a></div> {%if account.current_user_has_extra%} <div class="extra{%if account.current_user_has_note%} with_note {%endif%}{%if account.current_user_has_tags%} with_tags{%endif%}{%if account.current_user_follows or account.current_user_followed or account.current_user_is_self%} with_special_tags{%endif%}"> {%with obj=account %} {%if obj.current_user_has_note or obj.current_user_has_tags%} <div class="rel_popover_extra" data-popover-title="Your private informations" title="You have private informations !"> <a href="{{obj.get_absolute_url}}"><img src="/static/img/sticky_note.png" alt="Private note"/></a> <div><div class="extra_container{%if obj.current_user_has_note%} with_note {%endif%}{%if obj.current_user_has_tags%} with_tags{%endif%}"> {%if obj.current_user_has_tags%} {%with tags=obj.current_user_tags with_flags=1 %} {%if tags%} {%url dashboard_tags obj_type=obj_type as tag_link %} <ul class="tags unstyled"> {%if with_flags%} {%for tag in tags.special_used %} <li><a href="{{tag_link}}?tag={{tag.slug}}" class="label warning">{{tag.name}}</a></li> {%endfor %} {%if tags.normal and tags.special_used%}<br/>{%endif%} {%for tag in tags.normal %} <li><a href="{{tag_link}}?tag={{tag.slug}}" class="label success">{{tag.name}}</a></li> {%endfor %} {%else%} {%for tag in tags %} <li><a href="{{tag_link}}?tag={{tag.slug}}" class="label success">{{tag.name}}</a></li> {%endfor %} {%endif%} </ul> {%endif%} {%endwith %} {%endif%} {%if obj.current_user_has_note%} <blockquote>{{obj.current_user_rendered_note|safe}}</blockquote> <hr/> <em>Last updated: {{obj.current_user_note_modified}}</em> {%endif%} </div></div> </div> {%endif%} {%endwith %} {%if not minimal%} {%if account.current_user_follows or account.current_user_followed or account.current_user_is_self%} <ul class="special-tags unstyled"> {%if account.current_user_follows%}<li class="label notice" title="You follow {{account.slug}}">following</li>{%endif%} {%if account.current_user_followed%}<li class="label notice" title="{{account.slug}} follows you">followed by</li>{%endif%} {%if account.current_user_is_self%}<li class="label success" title="{{account.slug}} is one of your accounts">you</li>{%endif%} </ul> {%endif%} {%endif%} </div> {%endif%} </td> {%endif%}  </tr> {%endfor %} </tbody> </table> {%else%} <p><em>No notes !</em></p> {%endif%} <a href="/dashboard/notes/accounts/">Manage your notes...</a> {%endwith %} </section> <section id="d-people" class="span4"> <h2>People</h2> <h3>Most popular followers</h3> {%if best.accounts.followers%} {%prepare_private best.accounts.followers "-related" %} {%with minimal=1 %} <table class="condensed-table with_extras" data-private-exclude="-related"> <tbody> {%for account in best.accounts.followers %} <tr> <td>   {%cache cache_timeout.account_main_cell account_minimal_cell_small account.pk account.modified %}  {%with size=16 %} <a href="{{account.get_absolute_url}}" title="{%if account.last_fetch%}{{account.name|default:account.slug}}{%else%}{{account.slug}} (not fetched){%endif%}"><img alt="{{account.slug}}'s avatar" width="{{size|default:32}}" height="{{size|default:32}}" src="{%if account.avatar%}{{account.avatar}}{%else%}/static/img/avatar_default_{{account.backend}}.png{%endif%}"/></a> {%endwith %}   <a href="{{account.get_absolute_url}}" title="{%if account.name%}{{account.name}}{%else%}{{account.slug}}{%endif%}{%if not account.last_fetch%} (not fetched){%endif%}">{%if with_avatar%}<img alt="{{account.slug}}'s avatar" width="{{avatar_size|default:32}}" height="{{avatar_size|default:32}}" src="{%if account.avatar%}{{account.avatar}}{%else%}/static/img/avatar_default_{{account.backend}}.png{%endif%}"/> {%endif%}{{account.slug}}{%if not no_backend%}<small> @ {{account.backend}}</small>{%endif%}</a>  {%endcache %}  </td>  {%if user.id%} <td class="{%if account.current_user_has_extra%}full{%else%}empty{%endif%}" data-object-key="{{account.simple_str}}"> <div><a href="{%with object=account%}
?{%if request.META.QUERY_STRING%}{{request.META.QUERY_STRING}}&amp;{%endif%}{%if 'edit_extra' in request.META.QUERY_STRING%}_={%now "u" %}{%else%}edit_extra={{object.simple_str}}&amp;when_finished={{current_request|urlencode}}{%endif%}#extra-editor
{%endwith%}" title="{%if account.current_user_has_extra%}Edit your private tags and private note{%else%}Add some private tags or a private note{%endif%}" class="btn">{%if account.current_user_has_extra%}edit{%else%}+{%endif%}</a></div> {%if account.current_user_has_extra%} <div class="extra{%if account.current_user_has_note%} with_note {%endif%}{%if account.current_user_has_tags%} with_tags{%endif%}{%if account.current_user_follows or account.current_user_followed or account.current_user_is_self%} with_special_tags{%endif%}"> {%with obj=account %} {%if obj.current_user_has_note or obj.current_user_has_tags%} <div class="rel_popover_extra" data-popover-title="Your private informations" title="You have private informations !"> <a href="{{obj.get_absolute_url}}"><img src="/static/img/sticky_note.png" alt="Private note"/></a> <div><div class="extra_container{%if obj.current_user_has_note%} with_note {%endif%}{%if obj.current_user_has_tags%} with_tags{%endif%}"> {%if obj.current_user_has_tags%} {%with tags=obj.current_user_tags with_flags=1 %} {%if tags%} {%url dashboard_tags obj_type=obj_type as tag_link %} <ul class="tags unstyled"> {%if with_flags%} {%for tag in tags.special_used %} <li><a href="{{tag_link}}?tag={{tag.slug}}" class="label warning">{{tag.name}}</a></li> {%endfor %} {%if tags.normal and tags.special_used%}<br/>{%endif%} {%for tag in tags.normal %} <li><a href="{{tag_link}}?tag={{tag.slug}}" class="label success">{{tag.name}}</a></li> {%endfor %} {%else%} {%for tag in tags %} <li><a href="{{tag_link}}?tag={{tag.slug}}" class="label success">{{tag.name}}</a></li> {%endfor %} {%endif%} </ul> {%endif%} {%endwith %} {%endif%} {%if obj.current_user_has_note%} <blockquote>{{obj.current_user_rendered_note|safe}}</blockquote> <hr/> <em>Last updated: {{obj.current_user_note_modified}}</em> {%endif%} </div></div> </div> {%endif%} {%endwith %} {%if not minimal%} {%if account.current_user_follows or account.current_user_followed or account.current_user_is_self%} <ul class="special-tags unstyled"> {%if account.current_user_follows%}<li class="label notice" title="You follow {{account.slug}}">following</li>{%endif%} {%if account.current_user_followed%}<li class="label notice" title="{{account.slug}} follows you">followed by</li>{%endif%} {%if account.current_user_is_self%}<li class="label success" title="{{account.slug}} is one of your accounts">you</li>{%endif%} </ul> {%endif%} {%endif%} </div> {%endif%} </td> {%endif%}  </tr> {%endfor %} </tbody> </table> {%endwith %} {%else%} <p><em>No followers !</em></p> {%endif%} <a href="/dashboard/followers/">More followers...</a> <h3>Most popular following</h3> {%if best.accounts.following%} {%prepare_private best.accounts.following "-related" %} <table class="condensed-table with_extras" data-private-exclude="-related"> <tbody> {%for account in best.accounts.following %} <tr> <td>   {%cache cache_timeout.account_main_cell account_minimal_cell_small account.pk account.modified %}  {%with size=16 %} <a href="{{account.get_absolute_url}}" title="{%if account.last_fetch%}{{account.name|default:account.slug}}{%else%}{{account.slug}} (not fetched){%endif%}"><img alt="{{account.slug}}'s avatar" width="{{size|default:32}}" height="{{size|default:32}}" src="{%if account.avatar%}{{account.avatar}}{%else%}/static/img/avatar_default_{{account.backend}}.png{%endif%}"/></a> {%endwith %}   <a href="{{account.get_absolute_url}}" title="{%if account.name%}{{account.name}}{%else%}{{account.slug}}{%endif%}{%if not account.last_fetch%} (not fetched){%endif%}">{%if with_avatar%}<img alt="{{account.slug}}'s avatar" width="{{avatar_size|default:32}}" height="{{avatar_size|default:32}}" src="{%if account.avatar%}{{account.avatar}}{%else%}/static/img/avatar_default_{{account.backend}}.png{%endif%}"/> {%endif%}{{account.slug}}{%if not no_backend%}<small> @ {{account.backend}}</small>{%endif%}</a>  {%endcache %}  </td>  {%if user.id%} <td class="{%if account.current_user_has_extra%}full{%else%}empty{%endif%}" data-object-key="{{account.simple_str}}"> <div><a href="{%with object=account%}
?{%if request.META.QUERY_STRING%}{{request.META.QUERY_STRING}}&amp;{%endif%}{%if 'edit_extra' in request.META.QUERY_STRING%}_={%now "u" %}{%else%}edit_extra={{object.simple_str}}&amp;when_finished={{current_request|urlencode}}{%endif%}#extra-editor
{%endwith%}" title="{%if account.current_user_has_extra%}Edit your private tags and private note{%else%}Add some private tags or a private note{%endif%}" class="btn">{%if account.current_user_has_extra%}edit{%else%}+{%endif%}</a></div> {%if account.current_user_has_extra%} <div class="extra{%if account.current_user_has_note%} with_note {%endif%}{%if account.current_user_has_tags%} with_tags{%endif%}{%if account.current_user_follows or account.current_user_followed or account.current_user_is_self%} with_special_tags{%endif%}"> {%with obj=account %} {%if obj.current_user_has_note or obj.current_user_has_tags%} <div class="rel_popover_extra" data-popover-title="Your private informations" title="You have private informations !"> <a href="{{obj.get_absolute_url}}"><img src="/static/img/sticky_note.png" alt="Private note"/></a> <div><div class="extra_container{%if obj.current_user_has_note%} with_note {%endif%}{%if obj.current_user_has_tags%} with_tags{%endif%}"> {%if obj.current_user_has_tags%} {%with tags=obj.current_user_tags with_flags=1 %} {%if tags%} {%url dashboard_tags obj_type=obj_type as tag_link %} <ul class="tags unstyled"> {%if with_flags%} {%for tag in tags.special_used %} <li><a href="{{tag_link}}?tag={{tag.slug}}" class="label warning">{{tag.name}}</a></li> {%endfor %} {%if tags.normal and tags.special_used%}<br/>{%endif%} {%for tag in tags.normal %} <li><a href="{{tag_link}}?tag={{tag.slug}}" class="label success">{{tag.name}}</a></li> {%endfor %} {%else%} {%for tag in tags %} <li><a href="{{tag_link}}?tag={{tag.slug}}" class="label success">{{tag.name}}</a></li> {%endfor %} {%endif%} </ul> {%endif%} {%endwith %} {%endif%} {%if obj.current_user_has_note%} <blockquote>{{obj.current_user_rendered_note|safe}}</blockquote> <hr/> <em>Last updated: {{obj.current_user_note_modified}}</em> {%endif%} </div></div> </div> {%endif%} {%endwith %} {%if not minimal%} {%if account.current_user_follows or account.current_user_followed or account.current_user_is_self%} <ul class="special-tags unstyled"> {%if account.current_user_follows%}<li class="label notice" title="You follow {{account.slug}}">following</li>{%endif%} {%if account.current_user_followed%}<li class="label notice" title="{{account.slug}} follows you">followed by</li>{%endif%} {%if account.current_user_is_self%}<li class="label success" title="{{account.slug}} is one of your accounts">you</li>{%endif%} </ul> {%endif%} {%endif%} </div> {%endif%} </td> {%endif%}  </tr> {%endfor %} </tbody> </table> {%else%} <p><em>No following !</em></p> {%endif%} <a href="/dashboard/following/">More following...</a> </section> <section id="d-repositories" class="span4"> <h2>Repositories</h2> <h3>Most popular owned repositories</h3> {%if best.repositories.owned%} {%prepare_private best.repositories.owned "-related" %} <table class="condensed-table with_extras" data-private-exclude="-related"> <tbody> {%for repository in best.repositories.owned %} <tr> <td title="{{repository.description}}">  {%with size=16 %} <a href="{{repository.get_absolute_url}}"><img alt="{{account.slug}}'s logo" width="{{size|default:32}}" height="{{size|default:32}}" src="{%if repository.logo%}{{repository.logo}}{%else%}/static/img/avatar_default_{{repository.backend}}.png{%endif%}"/></a> {%endwith %}   <a href="{{repository.get_absolute_url}}">{%if no_owner%}{{repository.slug}}{%else%}{{repository.project}}{%endif%}{%if not no_backend%}<small> @ {{repository.backend}}</small>{%endif%}</a>  </td>  {%if user.id%} <td class="{%if repository.current_user_has_extra%}full{%else%}empty{%endif%}" data-object-key="{{repository.simple_str}}"> <div><a href="{%with object=repository%}
?{%if request.META.QUERY_STRING%}{{request.META.QUERY_STRING}}&amp;{%endif%}{%if 'edit_extra' in request.META.QUERY_STRING%}_={%now "u" %}{%else%}edit_extra={{object.simple_str}}&amp;when_finished={{current_request|urlencode}}{%endif%}#extra-editor
{%endwith%}" title="{%if repository.current_user_has_extra%}Edit your private tags and private note{%else%}Add some private tags or a private note{%endif%}" class="btn">{%if repository.current_user_has_extra%}edit{%else%}+{%endif%}</a></div> {%if repository.current_user_has_extra%} <div class="extra{%if repository.current_user_has_note%} with_note {%endif%}{%if repository.current_user_has_tags%} with_tags{%endif%}{%if repository.current_user_follows or repository.current_user_owns or repository.current_user_has_fork%} with_special_tags{%endif%}"> {%with obj=repository %} {%if obj.current_user_has_note or obj.current_user_has_tags%} <div class="rel_popover_extra" data-popover-title="Your private informations" title="You have private informations !"> <a href="{{obj.get_absolute_url}}"><img src="/static/img/sticky_note.png" alt="Private note"/></a> <div><div class="extra_container{%if obj.current_user_has_note%} with_note {%endif%}{%if obj.current_user_has_tags%} with_tags{%endif%}"> {%if obj.current_user_has_tags%} {%with tags=obj.current_user_tags with_flags=1 %} {%if tags%} {%url dashboard_tags obj_type=obj_type as tag_link %} <ul class="tags unstyled"> {%if with_flags%} {%for tag in tags.special_used %} <li><a href="{{tag_link}}?tag={{tag.slug}}" class="label warning">{{tag.name}}</a></li> {%endfor %} {%if tags.normal and tags.special_used%}<br/>{%endif%} {%for tag in tags.normal %} <li><a href="{{tag_link}}?tag={{tag.slug}}" class="label success">{{tag.name}}</a></li> {%endfor %} {%else%} {%for tag in tags %} <li><a href="{{tag_link}}?tag={{tag.slug}}" class="label success">{{tag.name}}</a></li> {%endfor %} {%endif%} </ul> {%endif%} {%endwith %} {%endif%} {%if obj.current_user_has_note%} <blockquote>{{obj.current_user_rendered_note|safe}}</blockquote> <hr/> <em>Last updated: {{obj.current_user_note_modified}}</em> {%endif%} </div></div> </div> {%endif%} {%endwith %} {%if not minimal%} {%if repository.current_user_follows or repository.current_user_owns or repository.current_user_has_fork%} <ul class="special-tags unstyled"> {%if repository.current_user_owns%}<li class="label success" title="{{repository.project}} is your project">yours</li>{%endif%} {%if repository.current_user_follows%}<li class="label notice" title="You follow {{repository.project}}">following</li>{%endif%} {%if repository.current_user_has_fork%}<li class="label warning" title="You have a fork of {{repository.project}}">forked</li>{%endif%} </ul> {%endif%} {%endif%} </div> {%endif%} </td> {%endif%}  </tr> {%endfor %} </tbody> </table> {%else%} <p><em>No owned repositories !</em></p> {%endif%} <a href="/dashboard/repositories/">More repositories...</a> <h3>Most popular followed repositories</h3> {%if best.repositories.followed%} {%prepare_private best.repositories.followed "-related" %} <table class="condensed-table with_extras" data-private-exclude="-related"> <tbody> {%for repository in best.repositories.followed %} <tr> <td title="{{repository.description}}">  {%with size=16 %} <a href="{{repository.get_absolute_url}}"><img alt="{{account.slug}}'s logo" width="{{size|default:32}}" height="{{size|default:32}}" src="{%if repository.logo%}{{repository.logo}}{%else%}/static/img/avatar_default_{{repository.backend}}.png{%endif%}"/></a> {%endwith %}   <a href="{{repository.get_absolute_url}}">{%if no_owner%}{{repository.slug}}{%else%}{{repository.project}}{%endif%}{%if not no_backend%}<small> @ {{repository.backend}}</small>{%endif%}</a>  </td>  {%if user.id%} <td class="{%if repository.current_user_has_extra%}full{%else%}empty{%endif%}" data-object-key="{{repository.simple_str}}"> <div><a href="{%with object=repository%}
?{%if request.META.QUERY_STRING%}{{request.META.QUERY_STRING}}&amp;{%endif%}{%if 'edit_extra' in request.META.QUERY_STRING%}_={%now "u" %}{%else%}edit_extra={{object.simple_str}}&amp;when_finished={{current_request|urlencode}}{%endif%}#extra-editor
{%endwith%}" title="{%if repository.current_user_has_extra%}Edit your private tags and private note{%else%}Add some private tags or a private note{%endif%}" class="btn">{%if repository.current_user_has_extra%}edit{%else%}+{%endif%}</a></div> {%if repository.current_user_has_extra%} <div class="extra{%if repository.current_user_has_note%} with_note {%endif%}{%if repository.current_user_has_tags%} with_tags{%endif%}{%if repository.current_user_follows or repository.current_user_owns or repository.current_user_has_fork%} with_special_tags{%endif%}"> {%with obj=repository %} {%if obj.current_user_has_note or obj.current_user_has_tags%} <div class="rel_popover_extra" data-popover-title="Your private informations" title="You have private informations !"> <a href="{{obj.get_absolute_url}}"><img src="/static/img/sticky_note.png" alt="Private note"/></a> <div><div class="extra_container{%if obj.current_user_has_note%} with_note {%endif%}{%if obj.current_user_has_tags%} with_tags{%endif%}"> {%if obj.current_user_has_tags%} {%with tags=obj.current_user_tags with_flags=1 %} {%if tags%} {%url dashboard_tags obj_type=obj_type as tag_link %} <ul class="tags unstyled"> {%if with_flags%} {%for tag in tags.special_used %} <li><a href="{{tag_link}}?tag={{tag.slug}}" class="label warning">{{tag.name}}</a></li> {%endfor %} {%if tags.normal and tags.special_used%}<br/>{%endif%} {%for tag in tags.normal %} <li><a href="{{tag_link}}?tag={{tag.slug}}" class="label success">{{tag.name}}</a></li> {%endfor %} {%else%} {%for tag in tags %} <li><a href="{{tag_link}}?tag={{tag.slug}}" class="label success">{{tag.name}}</a></li> {%endfor %} {%endif%} </ul> {%endif%} {%endwith %} {%endif%} {%if obj.current_user_has_note%} <blockquote>{{obj.current_user_rendered_note|safe}}</blockquote> <hr/> <em>Last updated: {{obj.current_user_note_modified}}</em> {%endif%} </div></div> </div> {%endif%} {%endwith %} {%if not minimal%} {%if repository.current_user_follows or repository.current_user_owns or repository.current_user_has_fork%} <ul class="special-tags unstyled"> {%if repository.current_user_owns%}<li class="label success" title="{{repository.project}} is your project">yours</li>{%endif%} {%if repository.current_user_follows%}<li class="label notice" title="You follow {{repository.project}}">following</li>{%endif%} {%if repository.current_user_has_fork%}<li class="label warning" title="You have a fork of {{repository.project}}">forked</li>{%endif%} </ul> {%endif%} {%endif%} </div> {%endif%} </td> {%endif%}  </tr> {%endfor %} </tbody> </table> {%else%} <p><em>No followed repositories !</em></p> {%endif%} <a href="/dashboard/repositories/">More repositories...</a> </section> </div>   </div> </div></body></html> 